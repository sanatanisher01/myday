{% extends 'base.html' %}
{% load static %}

{% block title %}{{ error_title }} - MyDay{% endblock %}

{% block content %}
<div class="error-page py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body p-5 text-center">
                        <div class="error-code display-1 fw-bold text-danger mb-3">{{ error_code }}</div>
                        <h1 class="error-title mb-4">{{ error_title }}</h1>
                        
                        <!-- User-friendly message (visible to all) -->
                        <div class="alert alert-warning user-message mb-4" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            {{ user_message }}
                        </div>
                        
                        <!-- Developer message (collapsible) -->
                        <div class="dev-message mb-4">
                            <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#devDetails" aria-expanded="false" aria-controls="devDetails">
                                <i class="fas fa-code me-1"></i> Developer Details
                            </button>
                            <div class="collapse mt-3" id="devDetails">
                                <div class="card card-body bg-light text-start">
                                    <code>{{ dev_message }}</code>
                                </div>
                            </div>
                        </div>
                        
                        <a href="{% url 'home' %}" class="btn btn-primary">
                            <i class="fas fa-home me-2"></i> Return to Home
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .error-page {
        min-height: 70vh;
        display: flex;
        align-items: center;
    }
    
    .error-code {
        font-size: 6rem;
        background: linear-gradient(45deg, #f44336, #ff9800);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        line-height: 1;
    }
    
    .error-title {
        font-weight: 700;
        color: #333;
    }
    
    .user-message {
        font-size: 1.1rem;
        border-left: 4px solid #ff9800;
    }
    
    .dev-message code {
        font-family: monospace;
        color: #d63384;
        word-break: break-word;
    }
</style>

<script>
    // Auto-dismiss alerts after 5 seconds
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                // Create a Bootstrap alert instance and close it
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000); // 5000 milliseconds = 5 seconds
    });
</script>
{% endblock %}
